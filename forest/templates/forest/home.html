{% extends "base.html" %}
{% load static %}

{% block head %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
{% endblock head %}


{% block content %}
    <p>{{ msg }}</p>
    <div id="msg_list"></div>

    <div id="mains">
        <div>
            <h2>Trees</h2>
            <div class="treelist itemlist">
                {% for tree in trees %}
                    <div class="listitem tree">
                        <p class="tree_topic">{{ tree.topic }}</p>
                        <p class="tree_id">{{ tree.id }}</p>
                    </div>
                {% endfor %}
            </div>

            <form action="POST" class="genericForm2" id="treeform">
                {% csrf_token %}
                <label for="Topic">Topic: </label>
                <input type="text" name="Topic" id="tree_topic_input">
                <input type="submit" value="Create" id="add_tree_send">
            </form>
        </div>

        <div>
            <h2>Branches</h2>
            <div class="branchlist itemlist">
                {% for branch in branches %}
                    <div class="listitem branch">
                        <p class="branch_subject">{{ branch.subject }}</p>
                        <p class="branch_members">{{ branch.members }}</p>
                        <p class="branch_id">{{ branch.id }}</p>
                        <p class="branch_created_on">{{ branch.created_on }}</p>
                    </div>
                {% endfor %}
            </div>
            <form action="POST" class="genericForm2" id="branchform">
                {% csrf_token %}
                <label for="Subject">Subject: </label>
                <input type="text" name="Subject" id="branch_subject_input">
                <input type="submit" value="Create" id="add_branch_send">
            </form>
            <form action="POST" class="genericForm2" id="memberform">
                {% csrf_token %}
                <label for="Member">Member: </label>
                <input type="text" name="Member" id="member_input">
                <input type="submit" value="Add" id="memberform_send">
            </form>
        </div>

        <div>
            <h2>Messages</h2>
            <div class="nodelist itemlist">
                {% for node in nodes %}
                    <div class="listitem node">
                        <p class="node_sender">{{ node.sender }}</p>
                        <p class="node_created_on">{{ node.created_on }}</p>
                        <p class="node_content">{{ node.content }}</p>
                        <p class="node_id">{{ node.id }}</p>
                    </div>
                {% endfor %}
            </div>

            <form action="POST" class="genericForm2" id="quickreplyform">
                {% csrf_token %}
                <label for="Body">Message: </label>
                <textarea name="Body" id="quickreply_body" placeholder="type your message here ..."></textarea>
                <input type="submit" value="send" id="quickreply_send">
            </form>
        </div>
    </div>

    

    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="{% static 'js/home.js' %}"></script>
{% endblock %}

